
``` {r Load}
library(wesanderson)
library(ggplot2)
library(tidyverse)
library(fredr)
library(purrr)
library(lubridate)

#Package Manual
#  https://cran.r-project.org/web/packages/fredr/fredr.pdf

#color chart
# https://www.nceas.ucsb.edu/~frazier/RSpatialGuides/colorPaletteCheatsheet.pdf
```

``` {r}
fredr_set_key("5e546bf9dc0d38cf6e2db34bb0e9dcef")
```
# R -----------------------------------------------------------------------
?frequency

```{r REAL_GDP}
fredr_request(
  endpoint = "series/observations",
  series_id = "A191RL1Q225SBEA",
  observation_start = "1990-01-01",
  observation_end = "9999-01-01",
  frequency = "q",
  units = "ch1") %>%
  mutate(value = as.numeric(value))%>%
  mutate(date = ymd(date))%>%
 ggplot(mapping = aes( x = date, y = value)) + geom_line( color = "seagreen", sie = 2) + geom_point( size = .1, color = "black") + labs(title = "Real GDP", subtitle = "From Janurary 1990 to present", caption = "Source: Federal Reserve Bank of St. Louis" ) + theme_test(base_size = 10) + labs( x= "Date", y = " ") 
```


```{r Household_Consumption}
fredr_request(
  endpoint = "series/observations",
  series_id = "DPCERL1Q225SBEA",
  observation_start = "1990-01-01",
  observation_end = "9999-01-01",
  frequency = "q",
  units = "ch1") %>%
  mutate(value = as.numeric(value))%>%
  mutate(date = ymd(date))%>%
 ggplot(mapping = aes( x = date, y = value)) + geom_line( color = "blue") + labs(title = "Household_Consumption", subtitle = "From Janurary 1990 to present", caption = "Source: Federal Reserve Bank of St. Louis" ) + theme_test(base_size = 10) + labs( x= "Date", y = " ")
```


```{r Durables}
fredr_request(
  endpoint = "series/observations",
  series_id = "PCDGCC96",
  observation_start = "2015-01-01",
  observation_end = "9999-01-01",
  frequency = "q",
  units = "pch") %>%
  mutate(value = as.numeric(value))%>%
  mutate(date = ymd(date))%>%
 ggplot(mapping = aes( x = date, y = value)) + geom_line( color = "blue") + labs(title = "Durables", subtitle = "From Janurary 2015 to present", caption = "Source: Federal Reserve Bank of St. Louis" ) + theme_test(base_size = 10) + labs( x= "Date", y = " ")
```

```{r non-Durables}
fredr_request(
  endpoint = "series/observations",
  series_id = "PCNDGC96",
  observation_start = "2015-01-01",
  observation_end = "9999-01-01",
  frequency = "q",
  units = "pch") %>%
  mutate(value = as.numeric(value))%>%
  mutate(date = ymd(date))%>%
 ggplot(mapping = aes( x = date, y = value)) + geom_line( color = "blue") + labs(title = "NON-Durables", subtitle = "From Janurary 2015 to present", caption = "Source: Federal Reserve Bank of St. Louis" ) + theme_test(base_size = 10) + labs( x= "Date", y = " ")
```


```{r Personal_Consumption}
fredr_request(
  endpoint = "series/observations",
  series_id = "DPCERL1Q225SBEA",
  observation_start = "2000-01-01",
  observation_end = "9999-01-01",
  frequency = "q",
  units = "pch") %>%
  mutate(value = as.numeric(value))%>%
  mutate(date = ymd(date))%>%
 ggplot(mapping = aes( x = date, y = value)) + geom_line( color = "blue") + labs(title = "Personal Consumption", subtitle = "From Janurary 2000 to present", caption = "Source: Federal Reserve Bank of St. Louis" ) + theme_test(base_size = 10) + labs( x= "Date", y = " ")
```



#--------------------------------
#FED FUNDS
ggplot(data = FEDFUNDS, mapping = aes( x = DATE, y = FEDFUNDS)) + labs(title = "Fed Funds Rate", subtitle = "From Janurary 2018 to present", caption = "Source: Federal Reserve Bank of St. Louis" ) + theme_test()   
ab <- a + geom_smooth(color ="Blue", size = .1, linetype = 7, se=FALSE) 
ab + geom_point(shape = 0)

#GDP
(ggplot(data = GDPC1_2_, mapping = aes(x = DATE, y = GDPC1)) + 
    geom_line(color = "turquoise", size = 2) +
    labs(title = "Real Gross Domestic Product (in $ billions)",  caption = "Source: Federal Reserve Bank of St. Louis")+
    xlab("Year") + 
    ylab("GDP (in $ billions)") +
    theme_test(base_size = 30)
)

fredgraph$DSGG10 <- as.numeric(fredgraph$DGS10)
fredgraph$DSGG2 <- as.numeric(fredgraph$DGS2)


#YEILD CURVE

ggplot(fredgraph)+
  geom_ribbon(aes(ymin = DSGG2, ymax = DSGG10, x= DATE)) +
  geom_line(data=fredgraph,aes(y=DSGG2,x= DATE,colour="blue"), size=1 )+
  geom_line(data=fredgraph,aes(y=DSGG10,x= DATE,colour="red"), size=1) +
  scale_color_discrete(name = "  ", labels = c("2-YEAR", "10-YEAR")) +
  labs(title = "Treasury Yield Curve Inversion",  caption = "Source: Federal Reserve Bank of St. Louis") +
  xlab("Year") + 
  ylab("Percent") + theme_test(base_size = 30)








